{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\reactjs2\\\\tiktok\\\\src\\\\Components\\\\googleSignIn\\\\signIn.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { auth, provider } from \"./config\"; // Assuming config file with Firebase settings\nimport { signInWithPopup, signInWithEmailAndPassword } from \"firebase/auth\";\nimport Home from \"./Home\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SignIn() {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [userEmail, setUserEmail] = useState(null); // Track logged-in user email\n  const [error, setError] = useState(null); // Store error messages\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n  };\n  const handleGoogleLogin = async () => {\n    try {\n      const data = await signInWithPopup(auth, provider); // Replace 'provider' with your Google Sign-in provider\n      const userEmail = data.user.email;\n      setUserEmail(userEmail);\n      localStorage.setItem(\"email\", userEmail); // Consider secure storage in production\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n  const handleEmailLogin = async event => {\n    event.preventDefault(); // Prevent default form submission behavior\n    setError(null); // Clear any previous errors\n\n    try {\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\n      const userEmail = userCredential.user.email;\n      setUserEmail(userEmail);\n      localStorage.setItem(\"email\", userEmail); // Consider secure storage in production\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n  useEffect(() => {\n    const storedEmail = localStorage.getItem(\"email\");\n    setUserEmail(storedEmail);\n  }, []); // Empty dependency array ensures it runs only once\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      maxWidth: '300px',\n      margin: '0 auto'\n    },\n    children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this), \" \", !userEmail &&\n    /*#__PURE__*/\n    // Only show login options if not logged in\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleEmailLogin,\n        style: {\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          name: \"email\",\n          value: email,\n          onChange: handleChange,\n          required: true,\n          style: {\n            margin: '10px 0',\n            padding: '10px',\n            borderRadius: '5px',\n            border: '1px solid #ccc'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          name: \"password\",\n          value: password,\n          onChange: handleChange,\n          required: true,\n          style: {\n            margin: '10px 0',\n            padding: '10px',\n            borderRadius: '5px',\n            border: '1px solid #ccc'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: {\n            padding: '10px',\n            borderRadius: '5px',\n            border: 'none',\n            backgroundColor: '#007BFF',\n            color: 'white',\n            cursor: 'pointer'\n          },\n          children: \"Login with Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGoogleLogin,\n        style: {\n          padding: '10px',\n          borderRadius: '5px',\n          border: 'none',\n          backgroundColor: '#DB4437',\n          color: 'white',\n          cursor: 'pointer',\n          marginTop: '10px'\n        },\n        children: \"Login with Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), userEmail && /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(SignIn, \"H2RZwyT4V0zxVnS3FVafnAEocos=\");\n_c = SignIn;\nexport default SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["React","useState","useEffect","auth","provider","signInWithPopup","signInWithEmailAndPassword","Home","jsxDEV","_jsxDEV","Fragment","_Fragment","SignIn","_s","email","setEmail","password","setPassword","userEmail","setUserEmail","error","setError","handleChange","event","name","value","target","handleGoogleLogin","data","user","localStorage","setItem","message","handleEmailLogin","preventDefault","userCredential","storedEmail","getItem","style","display","flexDirection","maxWidth","margin","children","color","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","onSubmit","htmlFor","type","id","onChange","required","padding","borderRadius","border","backgroundColor","cursor","onClick","marginTop","_c","$RefreshReg$"],"sources":["D:/workspace/reactjs2/tiktok/src/Components/googleSignIn/signIn.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { auth, provider } from \"./config\"; // Assuming config file with Firebase settings\r\nimport { signInWithPopup, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport Home from \"./Home\";\r\n\r\nfunction SignIn() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [userEmail, setUserEmail] = useState(null); // Track logged-in user email\r\n  const [error, setError] = useState(null); // Store error messages\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    if (name === \"email\") {\r\n      setEmail(value);\r\n    } else if (name === \"password\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n\r\n  const handleGoogleLogin = async () => {\r\n    try {\r\n      const data = await signInWithPopup(auth, provider); // Replace 'provider' with your Google Sign-in provider\r\n      const userEmail = data.user.email;\r\n      setUserEmail(userEmail);\r\n      localStorage.setItem(\"email\", userEmail); // Consider secure storage in production\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const handleEmailLogin = async (event) => {\r\n    event.preventDefault(); // Prevent default form submission behavior\r\n    setError(null); // Clear any previous errors\r\n\r\n    try {\r\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n      const userEmail = userCredential.user.email;\r\n      setUserEmail(userEmail);\r\n      localStorage.setItem(\"email\", userEmail); // Consider secure storage in production\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedEmail = localStorage.getItem(\"email\");\r\n    setUserEmail(storedEmail);\r\n  }, []); // Empty dependency array ensures it runs only once\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', maxWidth: '300px', margin: '0 auto' }}>\r\n      {error && <p style={{ color: 'red' }}>{error}</p>} {/* Display error message if any */}\r\n      {!userEmail && ( // Only show login options if not logged in\r\n        <>\r\n          <h2 style={{ textAlign: 'center' }}>Login</h2>\r\n          <form onSubmit={handleEmailLogin} style={{ display: 'flex', flexDirection: 'column' }}>\r\n            <label htmlFor=\"email\">Email:</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n              required\r\n              style={{ margin: '10px 0', padding: '10px', borderRadius: '5px', border: '1px solid #ccc' }}\r\n            />\r\n            <label htmlFor=\"password\">Password:</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n              required\r\n              style={{ margin: '10px 0', padding: '10px', borderRadius: '5px', border: '1px solid #ccc' }}\r\n            />\r\n            <button type=\"submit\" style={{ padding: '10px', borderRadius: '5px', border: 'none', backgroundColor: '#007BFF', color: 'white', cursor: 'pointer' }}>Login with Email</button>\r\n          </form>\r\n          <button onClick={handleGoogleLogin} style={{ padding: '10px', borderRadius: '5px', border: 'none', backgroundColor: '#DB4437', color: 'white', cursor: 'pointer', marginTop: '10px' }}>Login with Google</button>\r\n        </>\r\n      )}\r\n      {userEmail && <Home />} {/* Render Home if user is logged in */}\r\n    </div>\r\n);\r\n}\r\n\r\nexport default SignIn;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}